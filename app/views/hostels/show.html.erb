<div id="header-container">
  <h1 id="title-h1"><strong><%= @hostel.name %></strong></h1>
  <h2 id="title-h2"><%= @hostel.address %></h2>
</div>

<% if user_signed_in? && current_user.user_type == "owner" %>
  <div class="buttons">
    <button class="btn-blue">
      <%= link_to "Add Room", new_hostel_bed_path(@hostel) %>
    </button>
    <button class="btn-blue">
      <%= link_to "Edit", edit_hostel_path(@hostel) %>
    </button>
  </div>
<% end %>

<!--   <div class="carouselcontainerself"> -->
<div class="container">
  <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img class="d-block h-100" alt="First slide" src=<%= @hostel.photo1 %>>
      </div>
      <div class="carousel-item">
        <img class="d-block h-100" alt="Second slide" src=<%= @hostel.photo2 %>>
      </div>
      <div class="carousel-item">
        <img class="d-block h-100" alt="Third slide" src=<%= @hostel.photo3 %>>
      </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</div>

<hr>
<!-- Hostel description -->
  <div class="panel-body" role="main">
    <h1 class="text-center"><strong>Description</strong></h1>
    <pre>
      <p class="text-center"><%= @hostel.description %></p>
    </pre>
  </div>

<hr>

<!-- need to add center buttons here -->

  <div id="inputs-container">
    <ul>
      <%= simple_form_for @booking do |f| %>
      <%= f.hidden_field :hostel_id, :value => params[:id] %>
      <div class="input-items">
        <%= f.input :start_at, as: :string, label: "Start Date", placeholder: "From", required: true, input_html: {class: "datepicker", value: params[:checkin]}, wrapper_html: {class: "inline_field_wrapper"} %>
        <%= f.input :end_at, as: :string, label: 'End Date'.html_safe, placeholder: "To", required: true, input_html: {class: "datepicker", value: params[:checkout]}, wrapper_html: {class: "inline_field_wrapper"}%>
      </div>
      <!-- line break for readability -->
      <div class="input-items">
        <%= f.simple_fields_for :other do |a| %>
          <%= a.input :room_type, collection: @bed_types, selected: params[:room_type] %>
          <%= a.input :bed_number, collection: (1..10), selected: params[:bed_number] %>
          <!-- Need to add reg_ex to ensure that users can only choose an appropriate number of beds for the room type -->
          <!-- make dynamic booking bed count by altering line 48 -->
        <% end %>
      </div>
      <div id="booking-button-div">
        <input type="submit" name="commit" value="Create Booking" class="booking-button" data-disable-with="Create Booking">
      </div>
      <% end %>

    </ul>
  </div>

  <hr>
<!-- emojis start below -->
<div id="emoji-index">
 <% if @hostel.reviews.present? %>
   <% ["bad experience", "normal experience", "fun experience", "amazing experience"].each do |emoji| %>
      <% case emoji %>
       <% when "bad experience" %>
        <span>üò≠</span>
       <% when "normal experience" %>
        <span>üòê</span>
       <% when "fun experience" %>
        <span>üòÉ</span>
       <% when "amazing experience" %>
        <span>üòç</span>
      <% end %>
      <%= @hostel.reviews.where(emoji: emoji ).count %>
    <% end %>
 <% end %>
  <div id="review-button-div">
    <%= link_to new_hostel_review_path(@hostel) do %>
      <input type="submit" name="commit" value="Create Review" id="review-button" data-disable-with="Create Review">
    <% end %>
  </div>
</div>

<!-- emojis end here -->
 <hr>

<!-- This is where beds are going to be listed -->

<div id="map-container-show">
  <div
    id="map"
    style="width: 100%;
    height: 600px;"
    data-markers="<%= [@marker].to_json %>"
    data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"
  ></div>
</div>

<!-- This is required to make a form to choose beds in different rooms, where beds are going to be listed -->

<!-- bed types was here but looked horrible -->
      <!-- <% @bed_types.each do |bed_type| %> -->
        <!-- <li><%=  bed_type %></li> -->
        <!-- <% end %> -->
